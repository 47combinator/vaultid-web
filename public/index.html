<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Show-Half - Secure Identity Wallet</title>
  <meta name="description"
    content="Show-Half is a secure, encrypted identity wallet. Share verified identity data with one-time cryptographic keys.">
  <link rel="stylesheet" href="/css/styles.css">
</head>

<body class="landing-body">

  <nav class="landing-nav">
    <a href="/" class="landing-logo">
      <div class="landing-logo-mark">&#127963;</div>
      <span class="landing-logo-text">Show-Half</span>
    </a>
    <div class="landing-nav-links">
      <a href="/verify.html">Verify a Key</a>
      <a href="#" class="btn btn-gold btn-sm" onclick="openAuth('login')">Sign In</a>
    </div>
  </nav>

  <section class="hero">
    <div class="hero-inner">
      <div class="hero-badge">End-to-end encrypted</div>
      <h1>Your identity,<br><span class="gold">your control.</span></h1>
      <p class="hero-sub">
        Import identity documents, extract data with AI, and share verified
        credentials using one-time cryptographic keys.
      </p>
      <div class="hero-actions">
        <button class="btn btn-gold" onclick="openAuth('signup')">Create Free Account</button>
        <a href="/verify.html" class="btn btn-ghost" style="color:#f7f5f0;border-color:rgba(247,245,240,0.2);">Verify a
          Key</a>
      </div>
    </div>
  </section>

  <div class="features">
    <div class="feature-card">
      <div class="feature-icon">&#128248;</div>
      <div class="feature-title">AI Document Scan</div>
      <div class="feature-desc">Upload a passport, license, or ID card - AI extracts all fields instantly.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">&#128273;</div>
      <div class="feature-title">One-Time Keys</div>
      <div class="feature-desc">Share only the fields you choose via a cryptographic key that expires after one use.
      </div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">&#9989;</div>
      <div class="feature-title">Instant Verify</div>
      <div class="feature-desc">Anyone can verify a key - no account needed. Tamper-proof ECDSA signatures.</div>
    </div>
  </div>

  <footer class="landing-footer">
    Show-Half - Built with Web Crypto API
  </footer>

  <!-- AUTH MODAL -->
  <div class="auth-overlay" id="authOverlay" onclick="if(event.target===this)closeAuth()">
    <div class="auth-card" id="authCard">
      <button class="auth-close" onclick="closeAuth()">x</button>

      <div id="loginForm">
        <div class="auth-card-head">
          <div class="auth-card-title">Welcome back</div>
          <div class="auth-card-sub">sign in to your Show-Half wallet</div>
        </div>
        <div class="auth-error" id="loginError"></div>
        <div class="auth-field">
          <label>Email</label>
          <input type="email" id="loginEmail" placeholder="you@example.com">
        </div>
        <div class="auth-field">
          <label>Password</label>
          <input type="password" id="loginPassword" placeholder="password">
        </div>
        <button class="btn btn-gold btn-full" id="loginBtn" onclick="handleLogin()" style="margin-top:8px;">Sign
          In</button>
        <div class="auth-switch">
          Don't have an account? <a onclick="switchAuth('signup')">Sign up</a>
        </div>
      </div>

      <div id="signupForm" style="display:none">
        <div class="auth-card-head">
          <div class="auth-card-title">Create account</div>
          <div class="auth-card-sub">free forever, no credit card</div>
        </div>
        <div class="auth-error" id="signupError"></div>
        <div class="auth-field">
          <label>Email</label>
          <input type="email" id="signupEmail" placeholder="you@example.com">
        </div>
        <div class="auth-field">
          <label>Password</label>
          <input type="password" id="signupPassword" placeholder="Min 6 characters">
        </div>
        <div class="auth-field">
          <label>Confirm Password</label>
          <input type="password" id="signupConfirm" placeholder="same password">
        </div>
        <button class="btn btn-gold btn-full" id="signupBtn" onclick="handleSignup()" style="margin-top:8px;">Create
          Account</button>
        <div class="auth-switch">
          Already have an account? <a onclick="switchAuth('login')">Sign in</a>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>
  <div id="initError"
    style="display:none;position:fixed;top:0;left:0;right:0;padding:16px;background:#b83a3a;color:white;font-family:monospace;font-size:13px;z-index:99999;text-align:center;">
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // -----------------------------------------------
    //  SUPABASE INIT
    // -----------------------------------------------
    var sb = null;
    var initOK = false;

    try {
      if (typeof window.supabase === 'undefined' || !window.supabase) {
        throw new Error('Supabase library failed to load from CDN. Check internet.');
      }
      sb = window.supabase.createClient(
        'https://fygrjlnuzwrjcokyabcj.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ5Z3JqbG51endyamNva3lhYmNqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIxMDc4OTksImV4cCI6MjA4NzY4Mzg5OX0.Aluidb3u4zu1KkUZ8nss9jHwQgNX-W0nzoDog0kmeCU'
      );
      initOK = true;
      sb.auth.getSession().then(function (result) {
        if (result.data.session) window.location.href = '/app.html';
      });
    } catch (e) {
      document.getElementById('initError').style.display = 'block';
      document.getElementById('initError').textContent = 'ERROR: ' + e.message;
    }

    // -----------------------------------------------
    //  AUTH UI
    // -----------------------------------------------
    function openAuth(mode) {
      if (!initOK) { alert('Supabase not loaded! Check your internet and reload the page.'); return; }
      document.getElementById('authOverlay').classList.add('show');
      switchAuth(mode);
    }

    function closeAuth() {
      document.getElementById('authOverlay').classList.remove('show');
    }

    function switchAuth(mode) {
      document.getElementById('loginError').textContent = '';
      document.getElementById('loginError').classList.remove('show');
      document.getElementById('signupError').textContent = '';
      document.getElementById('signupError').classList.remove('show');
      document.getElementById('loginForm').style.display = mode === 'login' ? 'block' : 'none';
      document.getElementById('signupForm').style.display = mode === 'signup' ? 'block' : 'none';
    }

    function showError(id, msg) {
      var el = document.getElementById(id);
      el.textContent = msg;
      el.classList.add('show');
    }

    // -----------------------------------------------
    //  LOGIN
    // -----------------------------------------------
    function handleLogin() {
      var email = document.getElementById('loginEmail').value.trim();
      var password = document.getElementById('loginPassword').value;
      if (!email || !password) { showError('loginError', 'Please fill in all fields.'); return; }

      var btn = document.getElementById('loginBtn');
      btn.disabled = true; btn.textContent = 'Signing in...';

      sb.auth.signInWithPassword({ email: email, password: password }).then(function (result) {
        if (result.error) {
          showError('loginError', result.error.message);
          btn.disabled = false; btn.textContent = 'Sign In';
        } else {
          window.location.href = '/app.html';
        }
      }).catch(function (e) {
        showError('loginError', 'Error: ' + e.message);
        btn.disabled = false; btn.textContent = 'Sign In';
      });
    }

    // -----------------------------------------------
    //  SIGNUP
    // -----------------------------------------------
    function handleSignup() {
      var email = document.getElementById('signupEmail').value.trim();
      var password = document.getElementById('signupPassword').value;
      var confirm = document.getElementById('signupConfirm').value;

      if (!email || !password || !confirm) { showError('signupError', 'Please fill in all fields.'); return; }
      if (password.length < 6) { showError('signupError', 'Password must be at least 6 characters.'); return; }
      if (password !== confirm) { showError('signupError', 'Passwords do not match.'); return; }

      var btn = document.getElementById('signupBtn');
      btn.disabled = true; btn.textContent = 'Creating account...';

      sb.auth.signUp({ email: email, password: password }).then(function (result) {
        if (result.error) {
          showError('signupError', result.error.message);
          btn.disabled = false; btn.textContent = 'Create Account';
          return;
        }

        // If we got a session, go to app
        if (result.data && result.data.session) {
          window.location.href = '/app.html';
          return;
        }

        // Try signing in directly
        sb.auth.signInWithPassword({ email: email, password: password }).then(function (r2) {
          if (!r2.error && r2.data && r2.data.session) {
            window.location.href = '/app.html';
          } else {
            showError('signupError', 'Account created! But email confirmation is ON. Go to Supabase > Authentication > Providers > Email > turn OFF Confirm email.');
            btn.disabled = false; btn.textContent = 'Create Account';
          }
        }).catch(function () {
          showError('signupError', 'Account created! But email confirmation is ON. Disable it in Supabase.');
          btn.disabled = false; btn.textContent = 'Create Account';
        });

      }).catch(function (e) {
        showError('signupError', 'Error: ' + e.message);
        btn.disabled = false; btn.textContent = 'Create Account';
      });
    }

    function toast(msg) {
      var t = document.getElementById('toast');
      t.textContent = msg;
      t.classList.add('show');
      setTimeout(function () { t.classList.remove('show'); }, 3500);
    }
  </script>
</body>

</html>
<!-- Copyright (c) 2026 Pratyush Chaudhari. All Rights Reserved. -->